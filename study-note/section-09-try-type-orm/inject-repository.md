# Inject Repository

## 따로 공부한 부분
- 우리가 흔히 사용하는 `Repository`는 `Data Access Layer`(== `Persistence Layer`)
- Persistence(영속성)이라는 단어에 주목
    - 영속성이란 데이터를 생성한 프로그램이 종료되더라도 사라지지 않는 데이터의 특성을 얘기함.
    - 영속성을 갖지 않는 데이터는 단순히 메모리 상에서만 존재하기 때문에 프로그램을 종료하면 해당 데이터는 사라지게 됨.
        - [추가지식1 - class instance, 힙 메모리 등](#추가-지식1)
    - 그렇기 때문에 파일에 저장하거나, 데이터베이스에 저장하여 영속성을 갖게 하는 것.
    - 그렇다면 Persistence Layer는 데이터에 영속성을 부여해주는 계층이라는 의미이다.
    

#### 추가 지식1
- 추가적인 지식을 기록하면 NestJS에서 하나의 class를 각 모듈의 Providers 배열에 담게 되면 메모리 낭비가 이루어 지는 이유는 각 모듈에서 새로운 인스턴스를 계속 만들어내기 때문인데, 클래스의 인스턴스를 만들어 낼때 단순 참조형 타입 객체를 생각해서 어차피 힙 메모리에 저장되어 있는 같은 값을 가리키는 똑같은 포인터만 새로 생기는거 아니냐 라고 하면 착각이다.
    - 이유는 각각의 인스턴스는 생성되는 순간 별개의 독립적인 메모리로 잡히게 되고 참조변수는 해당 인스턴스의 메모리 위치를 참조하는 역할(포인터)를 하게 됨.
    - 한줄 요약 - 인스턴스는 생성될 때마다 Heap 메모리에 독립적인 공간을 차지함.
    - >[참조링크1: js 기본형 데이터와 참조형 데이터](https://velog.io/@hahbr88/Javascript-%EA%B8%B0%EB%B3%B8%ED%98%95-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%99%80-%EC%B0%B8%EC%A1%B0%ED%98%95-%EB%8D%B0%EC%9D%B4%ED%84%B0)<br>
    [참조링크2: java 클래스와 객체 인스턴스 힙 메모리](https://velog.io/@foeverna/Java-%ED%81%B4%EB%9E%98%EC%8A%A4%EC%99%80-%EA%B0%9D%EC%B2%B4-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%ED%9E%99-%EB%A9%94%EB%AA%A8%EB%A6%AC)